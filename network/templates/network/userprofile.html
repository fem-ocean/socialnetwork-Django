{% extends 'network/layout.html' %}
{% load static %}

{% block title %}User profile{% endblock %}


{% block body %}

{{userDetails.username}}
<br />


Number of followers: {{followersCount}} Users

<br />
Following:{{followingCount}} Users

<br />

{{userDetails.last_name}}

<br />

<!-- Javascript for when domcontent finish loadining run a function that makes a post/put request to the function in views.py. Javascript then changes the color of the button based on whether the request is successful or not -->
{% if not user_own_profile %}
<div>
    <a id="followlink" href="{% url 'followbutton' userDetails.id %}">Follow</a>
</div>
{% else %}
<div></div>
{% endif %}



<!-- Users post in reverse chronological order -->
<div class="m-auto mb-5" style="max-width: 80%;">
    <ul class="list-group list-group-flush">
        {% for post in ownerPosts %}
        <li class="list-group-item"><a
                href="{% url 'userprofile' post.owner.id %}">{{post.owner.username}}</a><br /><strong>Post:
            </strong>{{post.content}}<br />
            Likes: {{post.number_of_likes}}
            <br />
            {{post.timestamp}}
        </li>

        {% endfor %}
    </ul>
</div>



{% endblock %}

{% block script %}
    <script src="{% static 'network/userprofile.js' %}"></script>

{% endblock %}