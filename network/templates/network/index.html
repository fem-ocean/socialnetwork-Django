{% extends "network/layout.html" %}
{% load static %}

{% block title %}All Posts {% endblock %}








{% block body %}

    <div>
        <h1>New Post</h1>
        <form action="{% url 'index' %}" method="POST">
            {% csrf_token %}
            <label for="newpost"><strong>New Post</strong></label>
            <textarea name="newpost" id="newpost" cols="80" rows="5"></textarea>
            <button>Submit</button>
        </form>
    </div>


    
    <div class="m-auto mt-4" style="max-width: 80%; min-height: 200px;">
        
        {% for post in allPosts %}
        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    </div>
    
    <div class="m-auto mb-5" style="max-width: 80%;">
        <ul class="list-group list-group-flush">
            {% for post in allPosts %}
            <li class="list-group-item"><a href="{% url 'userprofile' post.owner.id %}">{{post.owner.username}}</a><br /><strong>Post: </strong>{{post.content}}<br />
                Likes: {{post.number_of_likes}}
                <br />
                {{post.timestamp}}
            </li>
    
            {% endfor %}
        </ul>
    </div>

   



{% endblock %}





{% block script %}
    <script src="{% static 'network/index.js' %}"></script>
{% endblock %}